<!DOCTYPE html>
<html lang="ja">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>æ—¥è¨˜æŠ•ç¨¿ - æ—¥è¨˜ç®¡ç†ã‚¢ãƒ—ãƒª</title>
        <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}" />
    </head>
    <body>
        <div class="container">
            <h1>ğŸ“ æ—¥è¨˜æŠ•ç¨¿</h1>

            <!-- ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ -->
            <div class="nav">
                <a href="{{ url_for('index') }}">ğŸ“‹ æ—¥è¨˜ä¸€è¦§ã«æˆ»ã‚‹</a>
            </div>

            <!-- ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤º -->
            {% with messages = get_flashed_messages(with_categories=true) %} {% if messages %} {% for category, message in messages %}
            <div class="message {{ category }}">{{ message }}</div>
            {% endfor %} {% endif %} {% endwith %}

            <!-- æŠ•ç¨¿ãƒ•ã‚©ãƒ¼ãƒ  -->
            <form method="POST" action="{{ url_for('post') }}">
                <div class="form-group">
                    <label for="date">ğŸ“… æ—¥ä»˜:</label>
                    <input type="date" id="date" name="date" required value="{{ request.form.date if request.form.date else '' }}" />
                </div>

                <div class="form-group">
                    <label for="content">âœï¸ æ—¥è¨˜ã®å†…å®¹:</label>
                    <textarea id="content" name="content" required placeholder="ä»Šæ—¥ã®å‡ºæ¥äº‹ã‚„æ„Ÿã˜ãŸã“ã¨ã‚’è‡ªç”±ã«æ›¸ã„ã¦ãã ã•ã„...">{{ request.form.content if request.form.content else '' }}</textarea>
                </div>

                <div class="form-group">
                    <button type="submit" class="btn">ğŸ’¾ ä¿å­˜</button>
                </div>
            </form>

            <!-- ä½¿ã„æ–¹ã®ãƒ’ãƒ³ãƒˆ -->
            <div style="margin-top: 30px; padding: 15px; background-color: #f8f9fa; border-radius: 5px; border-left: 4px solid #3498db">
                <h3>ğŸ’¡ ä½¿ã„æ–¹ã®ãƒ’ãƒ³ãƒˆ</h3>
                <ul style="margin-left: 20px; margin-top: 10px">
                    <li>æ—¥ä»˜ã¯å¿…é ˆé …ç›®ã§ã™ã€‚ä»Šæ—¥ã®æ—¥ä»˜ãŒè‡ªå‹•ã§è¨­å®šã•ã‚Œã¾ã™ã€‚</li>
                    <li>æ—¥è¨˜ã®å†…å®¹ã¯è‡ªç”±ã«æ›¸ã„ã¦ãã ã•ã„ã€‚æ”¹è¡Œã‚‚åæ˜ ã•ã‚Œã¾ã™ã€‚</li>
                    <li>ä¿å­˜å¾Œã¯è‡ªå‹•çš„ã«æ—¥è¨˜ä¸€è¦§ç”»é¢ã«ç§»å‹•ã—ã¾ã™ã€‚</li>
                </ul>
            </div>
        </div>

        <script>
            // ä»Šæ—¥ã®æ—¥ä»˜ã‚’è‡ªå‹•è¨­å®š
            document.addEventListener("DOMContentLoaded", function () {
                const dateInput = document.getElementById("date");
                if (!dateInput.value) {
                    const today = new Date().toISOString().split("T")[0];
                    dateInput.value = today;
                }
            });
        </script>
    </body>
</html>
